.\"
.\" Copyright (c) 2023 Roman Žilka <roman.zilka@gmail.com>
.\" Copyright (c) 2009-2024 Craig Small <csmall@dropbear.xyz>
.\" Copyright (c) 2018-2023 Jim Warner <james.warner@comcast.net>
.\" Copyright (c) 2011-2012 Sami Kerola <kerolasa@iki.fi>
.\" Copyright (c) 2003      Albert Cahalan
.\"
.\" This program is free software; you can redistribute it and/or modify
.\" it under the terms of the GNU General Public License as published by
.\" the Free Software Foundation; either version 2 of the License, or
.\" (at your option) any later version.
.\"
.\"
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH WATCH 1 "19 липня 2024 року" procps\-ng 
.SH НАЗВА
watch — програма для періодичного виконання інших програм з виведенням даних
на весь екран
.SH "КОРОТКИЙ ОПИС"
\fBwatch\fP [\fIпараметр\fP .\|.\|.\&] \fIкоманда\fP
.SH ОПИС
\fBwatch\fP виконує \fIкоманду\fP регулярно, показує виведені нею дані та
повідомлення щодо помилок (перший екран). За \fBwatch\fP ви зможете
спостерігати за змінами у виведених даних із часом. Типово, запуск програми
\fIкоманда\fP відбуватиметься кожні 2 секунди, аж доки роботу \fBwatch\fP не буде
перервано. У заголовку буде розміщено відомості щодо часу запуску і часу
роботи \fIкоманди\fP, а також її код виходу.
.SH ПАРАМЕТРИ
.TP 
\fB\-b\fP, \fB\-\-beep\fP
Гудок, якщо виконання \fIкоманди\fP завершується ненульовим станом.
.TP 
\fB\-c\fP, \fB\-\-color\fP
Обробляти послідовності символів ANSI для кольорів і стилю.
.TP 
\fB\-C\fP, \fB\-\-no\-color\fP
Не обробляти послідовності символів ANSI для кольорів і стилю.
.TP 
\fB\-d\fP, \fB\-\-differences\fP[=\fIpermanent\fP]
Позначити відмінності між двома послідовними запусками. Якщо задано
необов'язковий аргумент \fIpermanent\fP, \fBwatch\fP покаже усі зміни із часу
першого запуску.
.TP 
\fB\-e\fP, \fB\-\-errexit\fP
Заморозити оновлення при помилці \fIкоманди\fP і вийти після натискання
клавіші. Код виходу \fBwatch\fP буде кодом, з яким завершила роботу
\fIкоманда\fP. Якщо причиною переривання роботи \fIкоманди\fP є сигнал \fBn\fP, кодом
виходу буде 128 + \fBn\fP.
.TP 
\fB\-g\fP, \fB\-\-chgexit\fP
Вийти, якщо видимі виведені дані \fIкоманди\fP змінюються. Зміни, які виходять
за межі екрана через малий розмір екрана, або великі виведені дані не
спричинять вихід з \fBwatch\fP.
.TP 
\fB\-n\fP, \fB\-\-interval\fP \fIчисло\fP
Визначити інтервал між запусками. Значення, які є меншими за 0.1 і більшими
за 2678400 (31 день) буде перетворено у відповідні обмежувальні значення. У
всіх локалях працюють і «.» і «,». Для постійного визначення нетипового
інтервалу можна скористатися змінною середовища \fBWATCH_INTERVAL\fP (для неї
використовуються ті самі правила і форматування).
.TP 
\fB\-p\fP, \fB\-\-precise\fP
Виконати \fIкоманду\fP за \fB\-\-interval\fP секунд після того, як стався попередній
запуск, замість запуску за \fB\-\-interval\fP секунд після завершення її
попереднього виконання. Якщо для завершення роботи \fIкоманди\fP потрібно
більше \fB\-\-interval\fP секунд, програма чекатиме на її завершення.
.TP 
\fB\-q\fP, \fB\-\-equexit\fP <цикли>
Вийти, коли виведення \fIкоманди\fP не змінюється вказану кількість циклів.
.TP 
\fB\-r\fP, \fB\-\-no\-rerun\fP
Не перезапускати програму при зміні розмірів вікна термінала. Виведені
програмою дані знову з'являться на екрані при наступному регулярному
запуску.
.TP 
\fB\-s\fP, \fB\-\-shotsdir\fP
Каталог для збереження знімків вікон.
.TP 
\fB\-t\fP, \fB\-\-no\-title\fP
Вимкнути заголовок, який зазвичай буде показано у верхній частині екрана.
.TP 
\fB\-w\fP, \fB\-\-no\-wrap\fP
Вимкнути перенесення рядків. Довгі рядки буде обрізано, замість перенесення
на наступний.
.TP 
\fB\-x\fP, \fB\-\-exec\fP
Передати \fIкоманду\fP виклику \fBexec\fP(3), замість \fBsh \-c\fP. Програму буде
запущено дещо швидше. Можливості командної оболонки (налаштувань середовище,
розгортання змінних і шляхів тощо) будуть недоступні.
.TP 
\fB\-h\fP, \fB\-\-help\fP
Вивести текст довідки і завершити роботу.
.TP 
\fB\-v\fP, \fB\-\-version\fP
Вивести дані щодо версії і завершити роботу.
.SH "КЕРУВАННЯ З КЛАВІАТУРИ"
.TP 
\fBspacebar\fP
Видати \fIкоманду\fP негайно. Якщо команда вже виконується, її не буде
перервано,а її наступний запуск буде розпочато без затримки.
.TP 
\fBq\fP
Вийти з \fBwatch\fP. У поточній версії виконання \fIкоманди\fP перервано не буде
(на відміну від сигналів переривання, зокрема SIGKILL у відповідь на
Ctrl+C).
.TP 
\fBs\fP
Зробити знімок екрана. Його буде збережено у робочому каталозі, якщо не
вказано іншого каталогу за допомогою \fB\-\-shotsdir\fP. Якщо відбувається
виконання \fIкоманди\fP, знімок буде створено, щойно виконання команди буде
завершено.
.SH "СТАН ВИХОДУ"
.TP 
\fB0\fP
Успіх. Не відповідає коду виходу \fIкоманди\fP.
.TP 
\fB1\fP
Помилки, які не пов'язано із виконанням \fIкоманди\fP.
.TP 
\fB2\fP
Помилки, які пов'язано з виконанням \fIкоманди\fP і керування ним (не код
виходу).
.TP 
\fBбудь\-який ненульовий (\-\-errexit)\fP
З \fB\-\-errexit\fP буде повернуто останній код виходу \fIкоманди\fP.
.SH СЕРЕДОВИЩЕ
На поведінку \fBgrep\fP впливають наступні змінні середовища.
.TP 
\fBWATCH_INTERVAL\fP
Інтервал оновлення, використовує ті самі правила, що і параметр командного
рядка \fB\-\-interval\fP.
.TP 
\fBCOLUMNS\fP
Ширина екрана термінала у символах. Встановіть, щоб перевизначити
автоматично встановлене значення.
.TP 
\fBLINES\fP
Висота екрана термінала у символах. Встановіть, щоб перевизначити
автоматично встановлене значення.
.SH ЗАУВАЖЕННЯ
Спосіб обробки параметрів POSIX (тобто обробка параметрів завершується на
першому з аргументів, який не є параметром). Це означає, що параметри після
\fIкоманди\fP не оброблятимуться самою програмою \fBwatch\fP.
.P
Непридатні до виведення символи буде усунуто із даних, виведених
програмою. Якщо ви хочете побачити ці символи, скористайтеся \fBcat \-v\fP у
послідовності команд, створеній за допомогою символу каналу (|).
.SH ПРИКЛАДИ
.PP
Для спостереження за змінами у вмісті каталогу можна скористатися такою
командою:
.IP
watch \-d ls \-l
.PP
Якщо у вас є процесори із динамічною частотою, і ви хочете спостерігати за
її зміною, спробуйте таке. Команду буде передано командній оболонці, яка
надасть вам змогу створити канал виконання. Лапки є також особливістю
виконання у командній оболонці.
.IP
watch \-n1 'grep "^cpu MHz" /proc/cpuinfo | sort \-nrk4'
.PP
Щоб спостерігати за працездатністю ваших серверів, зберігаючи копію
виведених даних кожного запуску до файла, ви можете скористатися цим. \fB\-p\fP
призводить до виконання команди кожні 10 секунд, незалежно від того,
наскільки довго триватиме попереднє виконання.
.IP
watch \-n10 \-p \-d '{ date; for i in 10.0.0.31 10.0.0.32 10.0.0.33; do R=OK;
ping \-c2 \-W2 "$i" &>/dev/null || R=FAIL; echo "$i: $R"; done } | tee \-a
~/log'
.PP
Стежити за діями зі встановлення найновіших версій ядра адміністратора
вашого комп’ютера можна за допомогою такої команди:
.IP
watch uname \-r
.SH ВАДИ
При зміні розмірностей термінала, його зміни вмісту не буде зареєстровано
при наступному запуску \fIкоманди\fP. \fB\-\-chgexit\fP не запустить цей цикл і
лічильник \fB\-\-equexit\fP не буде перезапущено, навіть якщо тим часом зміняться
виведені \fIкомандою\fP даних. Підсвічування \fB\-\-differences\fP буде скинуто.
.SH "Як надіслати звіт про вади"
Про вади, будь ласка, повідомляйте на адресу
.MT procps@freelists.org
.ME .
